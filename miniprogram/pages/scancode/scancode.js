"use strict";
Page({
    data: {
        bookslist: []
    },
    scan: function () {
        wx.scanCode({
            success: function (res) {
                console.log(res);
            }
        });
    },
    onLoad: function () {
        wx.cloud.init();
    },
    onReady: function () {
        var _this = this;
        wx.cloud.callFunction({
            name: "getBooks",
        }).then(function (res) {
            console.log(res);
            if (typeof (res) == "object" && res.result && res.result.data) {
                _this.setData({
                    bookslist: res.result.data.data
                });
            }
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NhbmNvZGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzY2FuY29kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsSUFBSSxDQUFDO0lBQ0QsSUFBSSxFQUFFO1FBQ0YsU0FBUyxFQUFFLEVBQUU7S0FDaEI7SUFDRCxJQUFJO1FBQ0EsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUNSLE9BQU8sRUFBRSxVQUFBLEdBQUc7Z0JBQ1IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNyQixDQUFDO1NBQ0osQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELE1BQU07UUFDRixFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFDRCxPQUFPLEVBQVA7UUFBQSxpQkFtQkM7UUFsQkcsRUFBRSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUM7WUFDbEIsSUFBSSxFQUFFLFVBQVU7U0FPbkIsQ0FBQyxDQUFDLElBQUksQ0FDSCxVQUFDLEdBQWlCO1lBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUNoQixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLElBQUksR0FBRyxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtnQkFDM0QsS0FBSSxDQUFDLE9BQU8sQ0FBQztvQkFDVCxTQUFTLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSTtpQkFDbEMsQ0FBQyxDQUFBO2FBQ0w7UUFDTCxDQUFDLENBQ0osQ0FBQTtJQUNMLENBQUM7Q0FDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb25zdCBkYiA9IHd4LmNsb3VkLmRhdGFiYXNlKClcclxuLy8gY29uc3QgYT1nZXRcclxuUGFnZSh7XHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICAgYm9va3NsaXN0OiBbXVxyXG4gICAgfSxcclxuICAgIHNjYW4oKSB7XHJcbiAgICAgICAgd3guc2NhbkNvZGUoe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiByZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICB3eC5jbG91ZC5pbml0KCk7XHJcbiAgICB9LFxyXG4gICAgb25SZWFkeSgpIHtcclxuICAgICAgICB3eC5jbG91ZC5jYWxsRnVuY3Rpb24oe1xyXG4gICAgICAgICAgICBuYW1lOiBcImdldEJvb2tzXCIsXHJcbiAgICAgICAgICAgIC8qIHN1Y2Nlc3M6KHJlczpSZXNwb25zZURhdGEpPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlcycsIHJlcylcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9va3NsaXN0OnJlcy5yZXN1bHQuZGF0YS5kYXRhXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9ICovXHJcbiAgICAgICAgfSkudGhlbihcclxuICAgICAgICAgICAgKHJlczogUmVzcG9uc2VEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChyZXMpID09IFwib2JqZWN0XCIgJiYgcmVzLnJlc3VsdCAmJiByZXMucmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib29rc2xpc3Q6IHJlcy5yZXN1bHQuZGF0YS5kYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufSk7XHJcbiJdfQ==